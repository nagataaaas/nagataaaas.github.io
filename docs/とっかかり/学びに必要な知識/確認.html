<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ながた の やるだけPython</title>
    <script src="coi-serviceworker.js"></script>

    <!--syntax highlight-->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>


    <!--jquery-->
    <script src="https://cdn.jsdelivr.net/npm/jquery"></script>
    <script type="text/javascript" src="/static/js/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="/static/css/jquery-ui.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery.terminal@2.23.0/js/jquery.terminal.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/jquery.terminal@2.23.0/css/jquery.terminal.min.css" rel="stylesheet">


    <!--pyodide-->
    <script src="/static/js/terminal.js"></script>

    <!--style-->
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/dracula.css">
    <link rel="stylesheet" href="/static/css/terminal.css">

    <!--style-->
    <script src="/static/js/navigate.js"></script>

</head>
<body>
<div id="terminal-container">
    <div id="terminal-window" class="hidden">

        <div class="header">
            <span> 🐍 Python Interpreter</span>
            <button onclick="closeConsole()"><span class="close-btn">&#8211;</span></button>
        </div>
        <div id="terminal"></div>
    </div>
</div>
<div id="container">
    <div id="navigate"> <span class="chapter"><a href="/はじめに/目的と流れ/index.html">はじめに</a></span>
<span class="section"><a href="/はじめに/目的と流れ/index.html">目的と流れ</a></span>
<span class="chapter"><a href="/とっかかり/学びに必要な知識/index.html">とっかかり</a></span>
<span class="section"><a href="/とっかかり/学びに必要な知識/index.html">学びに必要な知識</a></span>
<span class="page"><a href="/とっかかり/学びに必要な知識/index.html">index</a></span>
<span class="page selected"><a href="/とっかかり/学びに必要な知識/確認.html">確認</a></span>
<span class="chapter"><a href="/型/primitive型/型とは.html">型</a></span>
<span class="section"><a href="/型/primitive型/型とは.html">primitive型</a></span>
</div>
    <div id="main">
        <div id="top">
            <h1 id="title">やるだけPython</h1>
            <h3 id="author" class="right">Yamato Nagata</h3>
            <h3 id="email" class="right"><a href="mailto:nagata@mail.nagata.pro">nagata@mail.nagata.pro</a>
            </h3>
            <h3 class="right">last update: 07/22/2022</h3>
        </div>
        <div id="content">
            <p>import re
import sys
from io import StringIO
from typing import Any</p>
<p>class Capturing(list):
    def <strong>enter</strong>(self):
        self._stdout = sys.stdout
        sys.stdout = self._stringio = StringIO()
        return self</p>
<pre class="codehilite"><code>def __exit__(self, *args):
    self.extend(self._stringio.getvalue().splitlines())
    del self._stringio  # free up some memory
    sys.stdout = self._stdout
</code></pre>

<p>class Test:
    def <strong>init</strong>(self, name: str, code: str,
                 error_should_raise: list[Exception],
                 should_print: list[str]):
        self.name = name
        self.code = code
        self.error_should_raise = error_should_raise
        self.should_print: list[re.Pattern] = [re.compile(p) for p in should_print]</p>
<pre class="codehilite"><code>def check_print(self, print_lines: list[str]):
    return any(p.match(l) for p in self.should_print for l in print_lines)

def run(self,
        test_globals: dict[str, Any],
        test_locals: dict[str, Any]):
    with Capturing() as output:
        try:
            exec(self.code, test_globals, test_locals)
            return self.check_print(output)
        except self.error_should_raise:
            return self.check_print(output)
        except:
            return False
</code></pre>

<h1 id="test">test</h1>
<p>tests = [
    Test
]</p>
        </div>
    </div>
</div>


<!--inject Run button-->
<script>
    document.querySelectorAll('pre > code').forEach(e => {
        const button = document.createElement('button');
        button.classList.add('run-button');
        button.innerText = 'RUN';
        e.parentNode.insertBefore(button, e);
    })
</script>
</body>
</html>